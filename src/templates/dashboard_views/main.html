<main class="flex flex-1 flex-col p-7 gap-7">
  <!-- Welcome Header -->
  <h1
    class="text-5xl text-sky-400 font-bold animate__animated animate__fadeInDown text-center mb-5"
  >
    Welcome back, {{ username }}!
  </h1>

  <!-- Top Stats Row -->
  <div class="flex flex-wrap gap-6 justify-center items-stretch">
    <!-- Journal Entries -->
    <div
      class="flex flex-col justify-center items-center bg-gradient-to-tr from-sky-100 to-white rounded-xl p-6 gap-2 shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition duration-500 border-2 border-sky-400 flex-[1_1_30%] min-w-[250px]"
    >
      <h2 class="text-5xl text-sky-500 font-bold animate-pulse text-center">
        {{ number_of_entries }}
      </h2>
      <h2 class="text-lg text-sky-400 font-semibold text-center">
        {% if number_of_entries == 1 %} Entry {% else %} Entries {% endif %}
      </h2>
      <a
        class="mt-4 btn btn-solid h-[45px] w-3/4 text-center bg-sky-400 text-white rounded-xl hover:bg-sky-500 transition duration-300 font-semibold"
        href="/dashboard/journal"
      >
        Go To Journal 📝
      </a>
    </div>

    <!-- Mindfulness Challenge -->
    <div
      class="flex flex-col justify-center items-center bg-gradient-to-br from-indigo-50 to-white rounded-2xl p-6 gap-4 shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition duration-500 border-2 border-indigo-300 flex-[2_1_50%] min-w-[300px]"
    >
      <h2 class="text-2xl text-indigo-500 font-bold text-center">
        🧘 Mindfulness Challenge
      </h2>
      {% if accepted_challenge and challenge %}
      <p class="text-gray-700 text-center font-medium">{{ challenge }}</p>
      {% if success_msg %}
      <p class="text-green-500 font-semibold text-center">{{ success_msg }}</p>
      {% else %}
      <form
        method="POST"
        action="/mindfulness_challenge"
        class="mt-3 w-11/12 text-center"
      >
        <input type="hidden" name="form_type" value="finish_challenge" />
        <button
          type="submit"
          class="bg-indigo-400 text-white px-5 py-3 rounded-lg hover:bg-indigo-500 transition duration-300 w-full font-semibold"
        >
          Complete Challenge ✅
        </button>
      </form>
      {% endif %} {% else %}
      <form
        method="POST"
        action="/mindfulness_challenge"
        class="mt-3 w-11/12 text-center"
      >
        <input type="hidden" name="form_type" value="get_challenge" />
        <button
          type="submit"
          class="bg-indigo-400 text-white px-5 py-3 rounded-lg hover:bg-indigo-500 transition duration-300 w-full font-semibold"
        >
          Get Today's Challenge 🎯
        </button>
      </form>
      {% endif %}
    </div>

    <!-- AI Chatbot -->
    <div
      class="flex flex-col justify-center items-center bg-gradient-to-tr from-pink-50 to-white rounded-xl p-6 gap-3 shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition duration-500 border-2 border-pink-300 flex-[1_1_25%] min-w-[250px]"
    >
      <h2 class="text-2xl text-pink-500 font-bold text-center">
        🤖 AI Therapist
      </h2>
      <p class="text-gray-700 text-center font-medium">
        Get emotional support, guidance, and mindfulness tips.
      </p>
      <a
        class="mt-4 btn btn-solid h-[45px] w-11/12 text-center bg-pink-400 text-white rounded-xl hover:bg-pink-500 transition duration-300 font-semibold"
        href="/dashboard/ai"
      >
        Talk to AI 🤖
      </a>
    </div>

    <!-- Resources -->
    <div
      class="flex flex-col justify-center items-center bg-gradient-to-br from-green-50 to-white rounded-xl p-6 gap-3 shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition duration-500 border-2 border-green-300 flex-[1_1_25%] min-w-[250px]"
    >
      <h2 class="text-2xl text-green-500 font-bold text-center">
        📚 Resources
      </h2>
      <p class="text-gray-700 text-center font-medium">
        Guides, articles, and tips to support your mindfulness journey.
      </p>
      <a
        class="mt-4 btn btn-solid h-[45px] w-11/12 text-center bg-green-400 text-white rounded-xl hover:bg-green-500 transition duration-300 font-semibold"
        href="/dashboard/resources"
      >
        View Resources 📚
      </a>
    </div>
  </div>
  <em class="block mx-auto">
    If you need help, make sure to access our
    <a href="/dashboard/crisis_support" class="underline text-red-500"
      >crisis support</a
    >
    or
    <a href="/dashboard/ai" class="underline text-sky-500">therapist chatbot</a>
    pages at any time!
  </em>
</main>
